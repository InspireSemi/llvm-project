# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py UTC_ARGS: --version 5
# RUN: llc -mtriple=aarch64 -start-before=register-coalescer -stop-after=virtregrewriter -enable-subreg-liveness=false -o - %s | FileCheck %s --check-prefix=SRLT
# RUN: llc -mtriple=aarch64 -start-before=register-coalescer -stop-after=virtregrewriter -enable-subreg-liveness=true -o - %s | FileCheck %s --check-prefix=NOSRLT
---
name: test
tracksRegLiveness: true
body: |
  bb.0:
    liveins: $x1
    ; SRLT-LABEL: name: test
    ; SRLT: liveins: $x1
    ; SRLT-NEXT: {{  $}}
    ; SRLT-NEXT: renamable $x0 = COPY $x1
    ; SRLT-NEXT: renamable $w1 = ORRWrr $wzr, renamable $w0, implicit-def $x1
    ; SRLT-NEXT: RET_ReallyLR implicit $x1, implicit $x0
    ;
    ; NOSRLT-LABEL: name: test
    ; NOSRLT: liveins: $x1
    ; NOSRLT-NEXT: {{  $}}
    ; NOSRLT-NEXT: renamable $x0 = COPY $x1
    ; NOSRLT-NEXT: renamable $w1 = ORRWrr $wzr, renamable $w0, implicit-def renamable $x1
    ; NOSRLT-NEXT: RET_ReallyLR implicit $x1, implicit $x0
    %190:gpr64 = COPY killed $x1
    %191:gpr32 = COPY %190.sub_32:gpr64
    %192:gpr32 = ORRWrr $wzr, killed %191:gpr32
    %193:gpr64all = SUBREG_TO_REG 0, killed %192:gpr32, %subreg.sub_32
    $x0 = COPY killed %190:gpr64
    $x1 = COPY killed %193:gpr64all
    RET_ReallyLR implicit $x1, implicit $x0
...
